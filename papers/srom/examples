\section{\label{sec:examples}Numerical Examples}

\begin{figure}[t!]
\centering
\vspace*{-24pt}
\includegraphics[width=0.49\textwidth]{figures/LbracketMesh3.png}
\includegraphics[width=0.49\textwidth]{figures/LbracketGeom3.png}
\caption{Problem domain used to solve the uncertainty aware, multi-material, structural topology optimization problem. The left pane shows the computational mesh. The right pane shows the isosurface and the corresponding boundary conditions used to solve the uncertainty aware, multi-material, structural topology optimization problem.}
\label{fig:domain}
\end{figure}

In this section, the SROM approach is used to solve a multi-material structural topology optimization problem where randomness is introduced through uncertainty in the orientation of the applied load and the elastic modulus of the compliant material. The SROM approach described in the previous section, Equation \eqref{SROMOptProb}, was implemented using the optimization toolbox in MATLAB \cite{matlab}. The implementation is based on the fmincon function for constrained nonlinear optimization. In all the examples presented herein, the interior-point algorithm was used along with a L-BFGS \cite{liu1989limited} Hessian approximation to compute sample probability pairs $\{ \tilde{\theta}^{(\mathrm{u})}, p_{\theta}^{(\mathrm{u})} \}_{\mathrm{u}=1}^{\mathrm{s}_{\theta}}$ and $\{ \tilde{\varepsilon}^{(\mathrm{v})}, p_{\varepsilon}^{(\mathrm{v})} \}_{\mathrm{v}=1}^{\mathrm{s}_{\varepsilon}}$. \\

A sketch for the problem domain can be seen in Figure \ref{fig:domain}. Figure \ref{fig:domain} shows that fixed boundary conditions were applied along the top surface of the allowable design domain, while a compressive force along the y-axis with magnitude of one was applied on the right-hand corner. The computational mesh with 6,400 four-node quadrilateral finite elements was created with Cubit \cite{cubit}. The Intrepid partial differential equation (PDE) discretization package from Trilinos \cite{Trilinos} was used to build the finite element model and the direct solver from MATLAB \cite{matlab} was used to solve the finite element system of equations. The elastic modulus and Poisson's ratio for the stiff material were set to $1$ and $0.3$, respectively. The Poisson's ratio for the compliant material (soft material) was set to $0.3$.\\

%beta(p_beta,q_beta)
The SROM approach was used to solve \eqref{eq:topOptProblem_srom_load} when considering randomness in the orientation of the applied load and the elastic modulus of the compliant material. The mass or monetary limit, $\mathrm{M}_{\max}$, was set to $0.4$. The uncertainty in load orientation was modeled as a beta random variable with distribution, beta(2.1667,4.3333), on the interval $[67.5^{\circ}\ 135^{\circ}]$ while the uncertainty for the elastic moduli of the compliant material was modeled with distribution, beta(1.6250,4.8750), on the interval $[0.6\ 1.4]$. The stiff and soft candidate materials' mass density or cost, $\gamma_{m}$, were set to $1$ and $0.95$, respectively. A MATLAB version of the globally convergent method of moving asymptotes (GCMMA) algorithm \cite{svanberg2002class} implemented by the authors was used to solve \eqref{eq:topOptProblem_srom_load}. The algorithm was terminated based on a tolerance on the relative change in the solution between iterations or the maximum number of iterations, specified as $\epsilon\leq10^{-2}$ or $100$, respectively. The initial guess for the set of control points, $\widehat{\mathcal{X}}$, were set to the target mass or monetary limit. The filter's radius of influence was set to two times the smallest element length, i.e. $R=2\ell_e$. \\

\begin{figure}[t!]
\centering
\vspace*{-24pt}
\includegraphics[width=0.49\textwidth]{figures/ObjectiveFunctionConvergence_LoadSROM.png}
\includegraphics[width=0.49\textwidth]{figures/ObjectiveFunctionConvergence_MatSROM.png}
\caption{Convergence of the SROM construction problem \eqref{SROMOptProb} with increasing SROM size. The left pane shows the convergence for the SROM constructed for the random direction of the applied load, $\tilde\Theta$.  The right pane shows the convergence for the SROM constructed for the random elastic modulus for the compliant material, $\tilde\Sigma$.}
\label{fig:SromObjectiveFunction}
\end{figure}

The first step to solve \eqref{eq:topOptProblem_srom_load} was to generate the SROMs $\tilde\Theta$ and $\tilde\Sigma$ for the random orientations of the applied load and the elastic modulus for the compliant material, respectively. This process was done offline as a preprocessing step before the uncertainty-aware, multi-material, structural topology optimization problem was solved. The CDF and moment error terms, \eqref{srom_cdf} and \eqref{srom_moments} respectively were given equal weight in \eqref{SROMOptProb}, i.e. $\alpha_1=\alpha_2=1.0$. With the known expressions for beta random variable statistics, the SROM optimization problem in \eqref{SROMOptProb} for uncertainty propagation in forward models is solved to generate $\tilde\Theta$ and $\tilde\Sigma$ for a range of model sizes $\mathrm{s}_{\theta} = \{70,80,90,100\}$ and $\mathrm{s}_{\varepsilon} = \{4,6\}$. A larger number of probability sample pairs was chosen for the orientation of the applied load over the elastic modulus since  \eqref{eq:topOptProblem_srom_load} was more sensitive to small perturbations in $\tilde\theta^{(\mathrm{u})}$ than $\tilde\epsilon^{(\mathrm{v})}$. This behavior could be attributed to the linear relationship between the elastic modulus and the structural response. Therefore, problems with nonlinear materials are expected to require more probability sample pairs $\{ \tilde{\varepsilon}^{(\mathrm{v})}, p_{\varepsilon}^{(\mathrm{v})} \}_{\mathrm{v}=1}^{\mathrm{s}_{\varepsilon}}$ to accurately characterize $\tilde\Sigma$ and solve \eqref{eq:topOptProblem_srom_load}. Nonlinear materials are outside the scope of this study and will be the focus of future research work. \\

The convergence of the SROMs construction problem for increasing number of probability sample pairs for the orientation of the applied load and the elastic modulus is shown in Figure \ref{fig:SromObjectiveFunction}. Clearly, further refinement enhances the approximation of the statistics of the random orientation and elastic modulus. Note that the computational cost of the multi-material structural topology optimization problem under uncertainty increases proportionally to the size of the SROMs. Therefore, the smallest SROM representation yielding an acceptable error should be used in practice to minimize the computational cost associated with solving \eqref{eq:topOptProblem_srom_load}. Figure \ref{fig:SromObjectiveFunction} shows that a relatively small number of samples and probabilities defining $\tilde\Theta$ and $\tilde\Sigma$ were able to produce a small discrepancy between SROM and target statistics.  Indeed, very little improvement in the final objective function value is observed as the SROMs size is increased from 15 to 20. This feature enables the efficient quantification and propagation of the uncertainties introduced by the random inputs during the solution of \eqref{eq:topOptProblem_srom_load}. In Figures \ref{fig:CdfComparisonLoad} and \ref{fig:CdfComparisonMat}, the corresponding load and material SROMs CDFs approximation are compared to the true CDF for different SROM sizes. Clearly, the discrete nature of the SROM approximation improves with increased SROM size.\\

\begin{figure}[t!]
\centering
\vspace*{-24pt}
\begin{subfigure}
[b]{0.475\textwidth}{\includegraphics[width=\textwidth]{figures/Mat2AndLoadRand_LoadSrom5_cdf}\caption{$\mathrm{s}_{\theta}=5$}}
\end{subfigure}
\begin{subfigure}
[b]{0.475\textwidth}{\includegraphics[width=\textwidth]{figures/Mat2AndLoadRand_LoadSrom10_cdf}\caption{$\mathrm{s}_{\theta}=10$}}
\end{subfigure}
\\
\begin{subfigure}
[b]{0.475\textwidth}{\includegraphics[width=\textwidth]{figures/Mat2AndLoadRand_LoadSrom15_cdf}\caption{$\mathrm{s}_{\theta}=15$}}
\end{subfigure}
\begin{subfigure}
[b]{0.475\textwidth}{\includegraphics[width=\textwidth]{figures/Mat2AndLoadRand_LoadSrom20_cdf}\caption{$\mathrm{s}_{\theta}=20$}}
\end{subfigure}
\caption{Comparison of the SROM CDFs with the true distribution of the direction of the applied load, $\Theta$, for different SROM sizes.}
\label{fig:CdfComparisonLoad}
\end{figure}

\begin{figure}[t!]
\centering
\vspace*{-24pt}
\begin{subfigure}
[b]{0.475\textwidth}{\includegraphics[width=\textwidth]{figures/Mat2AndLoadRand_Mat2Srom5_cdf}\caption{$\mathrm{s}_{\varepsilon}=5$}}
\end{subfigure}
\begin{subfigure}
[b]{0.475\textwidth}{\includegraphics[width=\textwidth]{figures/Mat2AndLoadRand_Mat2Srom10_cdf}\caption{$\mathrm{s}_{\varepsilon}=10$}}
\end{subfigure}
\\
\begin{subfigure}
[b]{0.475\textwidth}{\includegraphics[width=\textwidth]{figures/Mat2AndLoadRand_Mat2Srom15_cdf}\caption{$\mathrm{s}_{\varepsilon}=15$}}
\end{subfigure}
\begin{subfigure}
[b]{0.475\textwidth}{\includegraphics[width=\textwidth]{figures/Mat2AndLoadRand_Mat2Srom20_cdf}\caption{$\mathrm{s}_{\varepsilon}=20$}}
\end{subfigure}
\caption{Comparison of the SROM CDFs with the true distribution of the elastic modulus for the compliant material, $\Sigma$, for different SROM sizes.}
\label{fig:CdfComparisonMat}
\end{figure}

Finally, the SROM approach was used to design an L-bracket such that the rigidity of the structure was maximized while its mass or cost was minimized. Two candidate materials were used to design the L-bracket. For this design problem, the orientation of the applied load and the elastic modulus of the compliant material were considered to be random. The main design objective is to compute the optimal geometry and placement of the candidate materials such that the design requirements described above are satisfied. Figure \ref{fig:OptimalGeomMultiRandom} compares the optimal geometries obtained by solving \eqref{eq:topOptProblem_srom_load} with different SROM sizes to the optimal geometries obtained by solving the deterministic multi-material structural topology optimization problem defined in \eqref{topOptProblem_det}. These designs show that the deterministic and uncertainty aware, multi-material, structural topology optimization problems yield different solutions. Indeed, the deterministic solution does not have any additional support material connecting the two main vertical supports (i.e. columns). Contrarily, the uncertainty aware solution places additional support material between the two columns to counter the possibility of a small misalignment in the orientation of the applied load. A small misalignment in the orientation of the applied load could cause unexpected failures due to bending. Furthermore, instead of using the stiff material to produce the additional support structures connecting the two main columns, the algorithm uses mostly soft material to generate the additional support structures. Regardless of the increased deformations due to the randomness in the orientation of the applied load, these deformations are rather small compared to the deformations closer to the applied load. Thus, creating additional support structures made out of soft material is viable since they should be able to withstand the smaller deformations induced by the random orientation in the applied load. \\

\begin{figure}[t!]
\centering
%\vspace*{12pt}
\begin{subfigure}[b]{0.41\textwidth}{\includegraphics[width=\textwidth]{figures/deterministic}
\caption{Deterministic}}
\label{fig:OptimalGeomMultiRandom_a}
\end{subfigure}
\begin{subfigure}[b]{0.41\textwidth}{\includegraphics[width=\textwidth]{figures/Design_MatSrom4_LoadSrom80}
\caption{$\mathrm{s}_{\theta} = 80,\ \mathrm{s}_{\varepsilon} = 4$}}
\label{fig:OptimalGeomMultiRandom_b}
\end{subfigure}
\begin{subfigure}[b]{0.41\textwidth}{\includegraphics[width=\textwidth]{figures/Design_MatSrom4_LoadSrom70}
\caption{$\mathrm{s}_{\theta} = 90,\ \mathrm{s}_{\varepsilon} = 4$}}
\label{fig:OptimalGeomMultiRandom_c}
\end{subfigure}
\begin{subfigure}[b]{0.41\textwidth}{\includegraphics[width=\textwidth]{figures/Design_MatSrom4_LoadSrom100}
\caption{$\mathrm{s}_{\theta} = 100,\ \mathrm{s}_{\varepsilon} = 4$}}
\label{fig:OptimalGeomMultiRandom_d}
\end{subfigure}
\caption{The optimized topology for multiple SROM sizes, where {\color{red}red} denotes the stiff material and {\color{ForestGreen}green} denotes the soft material. (a) Deterministic solution, where $\tilde{C} \approx 2.808\,e^{-5}$ and $\mathrm{Mass}\approx{0.4}$; (b) Optimized topology for $\mathrm{s}_{\theta} = 80$ and $\mathrm{s}_{\varepsilon} = 4$, where $\tilde{C} \approx 3.543\,e^{-5}$ and $\mathrm{Mass} \approx 0.4$; (c) Optimized topology for $\mathrm{s}_{\theta} = 90$ and $\mathrm{s}_{\varepsilon} = 4$, where $\tilde{C} \approx 3.757\,e^{-5}$ and $\mathrm{Mass} \approx 0.4$; (d) Optimized topology for $\mathrm{s}_{\theta} = 100$ and $\mathrm{s}_{\varepsilon} = 4$, where $\tilde{C} \approx 3.683\,e^{-5}$ and $\mathrm{Mass} \approx 0.4$.}
\label{fig:OptimalGeomMultiRandom}
\end{figure}

\begin{figure}[t!]
\centering
%\vspace*{12pt}
\begin{subfigure}[b]{0.41\textwidth}{\includegraphics[width=\textwidth]{figures/deterministic}\caption{Deterministic}}\end{subfigure}
\begin{subfigure}[b]{0.41\textwidth}{\includegraphics[width=\textwidth]{figures/Srom5Mat2Random}\caption{$\mathrm{s}_{\varepsilon} = 5$}}
\end{subfigure}
\begin{subfigure}[b]{0.41\textwidth}{\includegraphics[width=\textwidth]{figures/Srom10Mat2Random}\caption{$\mathrm{s}_{\varepsilon} = 10$}}
\end{subfigure}
\begin{subfigure}[b]{0.41\textwidth}{\includegraphics[width=\textwidth]{figures/Srom15Mat2Random}\caption{$\mathrm{s}_{\varepsilon} = 15$}}
\end{subfigure}
\caption{The optimized topology for increasing SROM sizes for $\tilde\Sigma$, where {\color{red}red} denotes the stiff material and {\color{ForestGreen}green} denotes the soft material. (a) Deterministic solution, where $\tilde{C} \approx 2.808\,e^{-5}$ and $\mathrm{Mass}\approx{0.4}$; (b) Optimized topology for SROM $\tilde\Sigma$ of size five, where $\tilde{C} \approx 2.828\,e^{-5}$ and $\mathrm{Mass} \approx 0.4$; (c) Optimized topology for SROM $\tilde\Sigma$ of size ten, where $\tilde{C} \approx 2.826\,e^{-5}$ and $\mathrm{Mass} \approx 0.4$; and (d) Optimized topology for SROM $\tilde\Sigma$ of size fifteen, where $\tilde{C} \approx 2.814\,e^{-5}$ and $\mathrm{Mass} \approx 0.4$.}
\label{fig:OptimalGeomMatRandomOnly}
\end{figure}

Figure \ref{fig:OptimalGeomMultiRandom} also shows that the support structures made out of soft material are thicker in the deterministic solution than in the uncertainty aware solutions. This is probably induced by the fact that the additional support connecting the two main columns is made out of soft material. Recall that the main design goal is to maximize stiffness such that the mass or cost of the structure is minimize. Therefore, to meet these design requirements, thinner support structures made out of soft material were created. Furthermore, notice that additional stiff support material was added close to the sharp corner in the uncertainty aware solutions shown in Figure \ref{fig:OptimalGeomMultiRandom}. This is not only induced by the thinning of the supports made out of soft material, but also by the uncertainty in the elastic modulus of the soft or compliant material. Finally, it is worth pointing out the additional support added for the case of $s_{\theta} = s_{\epsilon} = 7$ in Figure (c) that isn't present in the other solutions. This is a possible indication that the optimal solution to the stochastic optimization problem is not fully converged with respect to the SROM size until larger values of $s_{\theta}$ and $s_{\epsilon}$ are used. Indeed, the SROM solutions appear to converge to an optimal geometry in Figures (5.e) and (5.f). In future extensions of the method, a brute force solution will be generated using Monte Carlo simulation and treated as a reference to compare the SROM solutions to and assess convergence in a more rigorous fashion.\\

Figure \ref{fig:OptimalGeomMatRandomOnly} shows the optimal geometries obtained by solving an uncertainty aware, multi-material, structural topology optimization problem in the case where only the elastic modulus of the soft material is considered random. The same problem parameters used to solve \eqref{eq:topOptProblem_srom_load} were used to solve the uncertainty aware, multi-material, structural topology optimization problem with one random parameter. Therefore, the orientation of the applied load was assumed to be known (i.e. deterministic). Similar to the uncertainty aware solutions with two random parameters, the uncertainty aware solutions with one random parameter place more stiff material closer to the sharp corner. Indeed, the stresses are higher closer to the sharp corner and thus more stiff support material is placed around the sharp corner to insure the design against the random soft material. These examples highlight the importance of accounting for inherent design uncertainties when designing a structure since these uncertainties could cause unexpected failures.
